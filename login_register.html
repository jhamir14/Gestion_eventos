<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Acceso | Tu Sitio</title>

  <!-- Fuente Nunito -->
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#f6f7f9;
      --card:#ffffff;
      --text:#1f2937;
      --muted:#6b7280;
      --primary:#111827;
      --border:#e5e7eb;
      --input:#f9fafb;
      --danger:#b91c1c;
      --success:#065f46;
    }
    .dark{
      --bg:#0b0f14;
      --card:#0f141b;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --primary:#e5e7eb;
      --border:#1f2937;
      --input:#0b0f14;
    }

    *{ box-sizing:border-box; }
    html,body{
      height:100%;
      margin:0;
      font-family:'Nunito', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color:var(--text);
      background:var(--bg);
    }
    .wrap{
      min-height:100%;
      display:grid;
      place-items:center;
      padding:24px;
    }
    .card{
      width:100%;
      max-width:880px;
      background:var(--card);
      border:1px solid var(--border);
      border-radius:20px;
      overflow:hidden;
      display:grid;
      grid-template-columns: 1.1fr 1fr;
    }
    @media (max-width: 880px){
      .card{ grid-template-columns: 1fr; }
      .side{ display:none; }
    }
    .side{
      padding:48px;
      border-right:1px solid var(--border);
      display:flex;
      flex-direction:column;
      gap:18px;
    }
    .logo{
      width:max-content;
      font-weight:800;
      letter-spacing:.3px;
      font-size:18px;
      padding:8px 12px;
      border:1px solid var(--border);
      border-radius:999px;
      background:var(--input);
      color:var(--primary);
    }
    .side h1{
      margin:8px 0 0;
      font-size:28px;
      line-height:1.2;
    }
    .side p{ color:var(--muted); margin:0; }

    .main{
      padding:28px;
    }
    .tabs{
      display:flex;
      gap:8px;
      border-bottom:1px solid var(--border);
      margin-bottom:18px;
    }
    .tab{
      appearance:none;
      border:none;
      background:transparent;
      color:var(--muted);
      font-weight:700;
      padding:14px 16px;
      cursor:pointer;
      border-bottom:2px solid transparent;
    }
    .tab[aria-selected="true"]{
      color:var(--primary);
      border-color:var(--primary);
    }

    form{
      display:grid;
      gap:14px;
      padding:6px 2px 2px;
    }
    .row{ display:grid; gap:12px; }
    @media (min-width:680px){
      .row--2{ grid-template-columns:1fr 1fr; }
    }
    label{
      display:block;
      font-size:14px;
      font-weight:700;
      margin-bottom:6px;
    }
    input, select{
      width:100%;
      padding:12px 14px;
      border:1px solid var(--border);
      border-radius:12px;
      background:var(--input);
      color:var(--text);
      outline:none;
    }
    input:focus{ border-color:var(--primary); }

    .help{ font-size:13px; color:var(--muted); margin-top:2px; }

    .actions{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-top:6px;
    }
    .btn{
      appearance:none;
      border:1px solid var(--border);
      background:var(--primary);
      color:var(--card);
      padding:12px 16px;
      border-radius:12px;
      font-weight:700;
      cursor:pointer;
    }
    .btn.secondary{
      background:transparent;
      color:var(--primary);
    }
    .checkbox{
      display:flex; align-items:center; gap:10px; font-size:14px;
    }
    a{ color:var(--primary); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    .alert{
      padding:10px 12px;
      border-radius:10px;
      border:1px solid var(--border);
      background:var(--input);
      font-size:14px;
      display:none;
    }
    .alert.show{ display:block; }
    .alert.error{ border-color:#fecaca; color:var(--danger); background:#fff1f2; }
    .alert.ok{ border-color:#a7f3d0; color:var(--success); background:#ecfdf5; }

    .header{
      display:flex; align-items:center; justify-content:space-between; margin-bottom:14px;
    }
    .mode{
      display:flex; align-items:center; gap:8px; font-size:14px; color:var(--muted);
    }
    .switch{
      inline-size:44px; block-size:24px; border-radius:999px; border:1px solid var(--border);
      position:relative; background:var(--input); cursor:pointer;
    }
    .knob{
      position:absolute; inset-block:3px; inset-inline-start:3px; inline-size:18px; block-size:18px;
      border-radius:999px; background:var(--primary); transition:transform .0s; /* sin efecto visible */
    }
    .dark .knob{ transform:translateX(20px); }
  </style>
</head>
<body>
  <div class="wrap">
    <section class="card" role="region" aria-label="Autenticación">
      <aside class="side">
        <span class="logo">Gestor de eventos ✅</span>
        <h1>Administra tus eventos sin complicarte</h1>
        <p>Inicia sesión o crea tu cuenta para gestionar, publicar y seguir tus eventos.</p>
        <p class="help">Sin efectos exagerados, diseño limpio y responsivo.</p>
      </aside>

      <main class="main">
        <header class="header">
          <nav class="tabs" role="tablist" aria-label="Cambiar entre login y registro">
            <button class="tab" id="tab-login" role="tab" aria-selected="true" aria-controls="panel-login">Iniciar sesión</button>
            <button class="tab" id="tab-register" role="tab" aria-selected="false" aria-controls="panel-register">Crear cuenta</button>
          </nav>

          <div class="mode">
            <div class="switch" id="toggle-theme" tabindex="0" role="switch" aria-checked="false" aria-label="Cambiar tema">
              <div class="knob"></div>
            </div>
          </div>
        </header>

        <div id="alert" class="alert" role="status" aria-live="polite"></div>

        <!-- LOGIN -->
        <section id="panel-login" role="tabpanel" aria-labelledby="tab-login">
          <form id="form-login" novalidate>
            <div>
              <label for="login-email">Correo</label>
              <input id="login-email" name="email" type="email" inputmode="email" autocomplete="email" placeholder="tucorreo@ejemplo.com" required />
              <p class="help">Usa el correo con el que te registraste.</p>
            </div>

            <div>
              <label for="login-password">Contraseña</label>
              <input id="login-password" name="password" type="password" autocomplete="current-password" minlength="6" placeholder="••••••••" required />
            </div>


            <div class="actions">
              <button class="btn" type="submit">Entrar</button>
              <button class="btn secondary" type="button" id="go-register">Crear cuenta</button>
            </div>
          </form>
        </section>

        <!-- REGISTER -->
        <section id="panel-register" role="tabpanel" aria-labelledby="tab-register" hidden>
          <form id="form-register" novalidate>
            <div class="row row--2">
              <div>
                <label for="reg-nombre">Nombre</label>
                <input id="reg-nombre" name="nombre" type="text" autocomplete="given-name" placeholder="Tu nombre" required />
              </div>
              <div>
                <label for="reg-apellido">Apellido</label>
                <input id="reg-apellido" name="apellido" type="text" autocomplete="family-name" placeholder="Tu apellido" required />
              </div>
            </div>

            <div>
              <label for="reg-email">Correo</label>
              <input id="reg-email" name="email" type="email" inputmode="email" autocomplete="email" placeholder="tucorreo@ejemplo.com" required />
            </div>

            <div class="row row--2">
              <div>
                <label for="reg-password">Contraseña</label>
                <input id="reg-password" name="password" type="password" autocomplete="new-password" minlength="6" placeholder="Mínimo 6 caracteres" required />
              </div>
              <div>
                <label for="reg-confirm">Confirmar contraseña</label>
                <input id="reg-confirm" name="confirm" type="password" autocomplete="new-password" minlength="6" placeholder="Repite la contraseña" required />
              </div>
            </div>

            <div class="actions">
              <button class="btn" type="submit">Crear cuenta</button>
              <button class="btn secondary" type="button" id="go-login">Ya tengo cuenta</button>
            </div>
          </form>
        </section>
      </main>
    </section>
  </div>

  <script>
    // ---------- Tabs ----------
    const tabLogin = document.getElementById('tab-login');
    const tabRegister = document.getElementById('tab-register');
    const panelLogin = document.getElementById('panel-login');
    const panelRegister = document.getElementById('panel-register');
    const goRegister = document.getElementById('go-register');
    const goLogin = document.getElementById('go-login');

    function showTab(which){
      const isLogin = which === 'login';
      tabLogin.setAttribute('aria-selected', isLogin);
      tabRegister.setAttribute('aria-selected', !isLogin);
      panelLogin.hidden = !isLogin;
      panelRegister.hidden = isLogin;
    }
    tabLogin.addEventListener('click', () => showTab('login'));
    tabRegister.addEventListener('click', () => showTab('register'));
    goRegister?.addEventListener('click', () => showTab('register'));
    goLogin?.addEventListener('click', () => showTab('login'));

    // ---------- Tema (sin animaciones) ----------
    const toggle = document.getElementById('toggle-theme');
    const root = document.documentElement;
    const savedTheme = localStorage.getItem('theme');
    if(savedTheme === 'dark'){ root.classList.add('dark'); toggle.setAttribute('aria-checked','true'); }
    toggle.addEventListener('click', () => {
      root.classList.toggle('dark');
      const isDark = root.classList.contains('dark');
      toggle.setAttribute('aria-checked', String(isDark));
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });
    toggle.addEventListener('keydown', (e) => {
      if(e.key === ' ' || e.key === 'Enter'){ e.preventDefault(); toggle.click(); }
    });

    // ---------- Utilidades ----------
    const alertBox = document.getElementById('alert');
    function toast(msg, type='ok'){
      alertBox.textContent = msg;
      alertBox.className = 'alert show ' + (type==='error' ? 'error' : 'ok');
    }
    


    // ---------- Validación simple ----------
    function emailOk(v){ return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v); }

    // ---------- Login ----------
    const fLogin = document.getElementById('form-login');
    fLogin.addEventListener('submit', async (e) => {
      e.preventDefault();
      const data = Object.fromEntries(new FormData(fLogin));
      if(!emailOk(data.email)){ toast('Correo inválido.', 'error'); return; }
      if(!data.password || data.password.length < 6){ toast('Contraseña mínima de 6 caracteres.', 'error'); return; }

      try{
        // Conecta con tu backend:
        // const res = await fetch('/api/login', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(data) });
        // const json = await res.json();
        // if(!res.ok) throw new Error(json.message || 'Error al iniciar sesión');
        // Ejemplo sin backend:
        toast('Sesión iniciada correctamente.');
        window.location.href = 'eventos.html';

      }catch(err){
        toast(err.message || 'No se pudo iniciar sesión', 'error');
      }
    });

    // ---------- Register ----------
    const fRegister = document.getElementById('form-register');
    fRegister.addEventListener('submit', async (e) => {
      e.preventDefault();
      const fd = new FormData(fRegister);
      const data = Object.fromEntries(fd);

      if(!data.nombre?.trim() || !data.apellido?.trim()){ toast('Completa tu nombre y apellido.', 'error'); return; }
      if(!emailOk(data.email)){ toast('Correo inválido.', 'error'); return; }
      if(!data.password || data.password.length < 6){ toast('La contraseña debe tener al menos 6 caracteres.', 'error'); return; }
      if(data.password !== data.confirm){ toast('Las contraseñas no coinciden.', 'error'); return; }
      if(!document.getElementById('reg-terms').checked){ toast('Debes aceptar los términos.', 'error'); return; }

      try{
        // Conecta con tu backend:
        // const res = await fetch('/api/register', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(data) });
        // const json = await res.json();
        // if(!res.ok) throw new Error(json.message || 'Error al registrarte');
        // Ejemplo sin backend:
        toast('Cuenta creada. Ahora puedes iniciar sesión.');
        showTab('login');
      }catch(err){
        toast(err.message || 'No se pudo crear la cuenta', 'error');
      }
    });
    
  </script>
</body>
</html>
